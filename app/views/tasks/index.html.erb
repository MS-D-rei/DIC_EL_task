<%= link_to 'new task', new_task_path, class: 'btn btn-primary' %>
<%= render 'searchbar' %>

<% if params[:task_search] %>
<% if params[:task_search][:keyword] %>
Search_keyword with: <%= params[:task_search][:keyword] %>
<% end %>
<% if params[:task_search][:status_num] %>
Search_status with: <%= params[:task_search][:status_num] %>
<% end %>
<% end %>

<table>
  <thead>
    <tr>
      <th><%= sort_order 'title', 'タイトル' %></th>
      <th><%= sort_order 'content', '内容' %></th>
      <th><%= sort_order 'priority', '優先度' %></th>
      <th><%= sort_order 'deadline', '期日' %></th>
      <th><%= sort_order 'task_status', '状況' %></th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
    <tr>
      <td id='task_title'><%= t('view.title') %>: <%= task.title %></td>
      <td><%= t('view.content') %>: <%= task.content %></td>
      <td><%= t('view.priority') %>: <%= task.priority %></td>
      <td id='task_deadline'><%= t('view.deadline') %>: <%= task.deadline.strftime("%Y-%m-%d") %></td>
      <td id='task_status'><%= t('view.task_status') %>: <%= task.task_status %></td>
      <td><%= link_to t('view.details'), task_path(task), class: 'btn btn-primary' %></td>
      <td><%= link_to t('view.edit'), edit_task_path(task), class: 'btn btn-secondary' %></td>
      <td><%= link_to t('view.destroy'), task_path(task), method: :delete, class: 'btn btn-danger' %></td>
    </tr>
    <% end %>
  </tbody>
</table>

<%= paginate(@tasks) %>